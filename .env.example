# ==============================================================================
# YektaYar Platform - Unified Environment Configuration
# ==============================================================================
# This file contains all environment variables needed for the entire platform.
# Copy this file to .env and update the values according to your environment.
#
# Required variables are marked with (REQUIRED)
# Optional variables are marked with (OPTIONAL)
# ==============================================================================

# ==============================================================================
# Backend Server Configuration
# ==============================================================================

# Server port for the backend API (REQUIRED)
PORT=3000

# Server hostname/interface to bind to (REQUIRED)
HOST=localhost

# Node environment: development, production, test (REQUIRED)
NODE_ENV=development

# ==============================================================================
# Database Configuration
# ==============================================================================

# Full PostgreSQL connection URL (REQUIRED)
DATABASE_URL=postgresql://user:password@localhost:5432/yektayar

# Database connection details (REQUIRED)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=yektayar
DB_USER=yektayar_user
DB_PASSWORD=your_secure_password_here

# ==============================================================================
# Session & Security
# ==============================================================================

# Secret key for session management (REQUIRED)
# Generate with: openssl rand -base64 32
SESSION_SECRET=change_this_to_a_secure_random_string

# Secret key for JWT tokens (REQUIRED)
# Generate with: openssl rand -base64 32
JWT_SECRET=change_this_to_another_secure_random_string

# JWT token expiration time (REQUIRED)
JWT_EXPIRY=7d

# ==============================================================================
# API Keys (Optional - for future use)
# ==============================================================================

# AI service API key (OPTIONAL)
# AI_API_KEY=your_ai_api_key

# SMS gateway API key (OPTIONAL)
# SMS_GATEWAY_API_KEY=your_sms_gateway_key

# Email service API key (OPTIONAL)
# EMAIL_API_KEY=your_email_service_key

# ==============================================================================
# CORS Settings
# ==============================================================================

# Allowed CORS origins, comma-separated (REQUIRED)
CORS_ORIGIN=http://localhost:5173,http://localhost:8100

# ==============================================================================
# WebSocket Configuration
# ==============================================================================

# WebSocket server port (REQUIRED)
WEBSOCKET_PORT=3001

# ==============================================================================
# Rate Limiting
# ==============================================================================

# Rate limit time window in minutes (REQUIRED)
RATE_LIMIT_WINDOW=15

# Maximum requests per window (REQUIRED)
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================================================
# Frontend Configuration (Admin Panel & Mobile App)
# ==============================================================================

# Backend API base URL for frontend applications (REQUIRED)
API_BASE_URL=http://localhost:3000

# Environment name for frontend: development, production (REQUIRED)
VITE_ENVIRONMENT=development

# Optional: Proxy domain for mobile-app when behind reverse proxy (OPTIONAL)
# Set this when running the mobile-app dev server behind a reverse proxy
# (e.g., nginx proxying app.yektayar.ir to localhost:8100)
# This configures Vite's HMR WebSocket to use the proxy domain instead of localhost
# Leave empty for local development without reverse proxy
# VITE_PROXY_DOMAIN=app.yektayar.ir
