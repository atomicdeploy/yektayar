# ==============================================================================
# YektaYar Platform - Unified Environment Configuration
# ==============================================================================
# This file contains all environment variables needed for the entire platform.
# Copy this file to .env and update the values according to your environment.
#
# Required variables are marked with (REQUIRED)
# Optional variables are marked with (OPTIONAL)
# ==============================================================================

# ==============================================================================
# Backend Server Configuration
# ==============================================================================

# Server port for the backend API (REQUIRED)
PORT=3000

# Server hostname/interface to bind to (REQUIRED)
HOST=localhost

# Node environment: development, production, test (REQUIRED)
NODE_ENV=development

# ==============================================================================
# Database Configuration
# ==============================================================================

# Full PostgreSQL connection URL (REQUIRED)
DATABASE_URL=postgresql://user:password@localhost:5432/yektayar

# Database connection details (REQUIRED)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=yektayar
DB_USER=yektayar_user
DB_PASSWORD=your_secure_password_here

# ==============================================================================
# Session & Security
# ==============================================================================

# Secret key for session management (REQUIRED)
# Generate with: openssl rand -base64 32
SESSION_SECRET=change_this_to_a_secure_random_string

# Secret key for JWT tokens (REQUIRED)
# Generate with: openssl rand -base64 32
JWT_SECRET=change_this_to_another_secure_random_string

# JWT token expiration time (REQUIRED)
JWT_EXPIRY=7d

# ==============================================================================
# API Keys (Optional - for future use)
# ==============================================================================

# AI service API key (OPTIONAL)
# AI_API_KEY=your_ai_api_key

# SMS gateway API key (OPTIONAL)
# SMS_GATEWAY_API_KEY=your_sms_gateway_key

# Email service API key (OPTIONAL)
# EMAIL_API_KEY=your_email_service_key

# ==============================================================================
# CORS Settings
# ==============================================================================

# Allowed CORS origins, comma-separated (REQUIRED)
CORS_ORIGIN=http://localhost:5173,http://localhost:8100

# Disable application-level CORS when behind a reverse proxy (OPTIONAL)
# Set to 'true' when using Apache/Nginx with CORS headers configured
# This prevents duplicate CORS headers that cause policy violations
# Default: false (CORS enabled in application)
DISABLE_CORS=false

# ==============================================================================
# WebSocket Configuration
# ==============================================================================

# Dedicated WebSocket server port for ws.yektayar.ir (REQUIRED)
# This port hosts both Socket.IO and native WebSocket protocols
# Configure your reverse proxy to route ws.yektayar.ir to this port
WEBSOCKET_PORT=3500

# ==============================================================================
# Rate Limiting
# ==============================================================================

# Rate limit time window in minutes (REQUIRED)
RATE_LIMIT_WINDOW=15

# Maximum requests per window (REQUIRED)
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================================================
# API Documentation (Swagger) Protection
# ==============================================================================

# Username for accessing API documentation (REQUIRED for production)
SWAGGER_USERNAME=admin

# Password for accessing API documentation (REQUIRED for production)
# Generate a strong password for production use
SWAGGER_PASSWORD=change_this_secure_password

# ==============================================================================
# Frontend Configuration (Admin Panel & Mobile App)
# ==============================================================================

# Backend API base URL for frontend applications (REQUIRED)
API_BASE_URL=http://localhost:3000

# Environment name for frontend: development, production (REQUIRED)
VITE_ENVIRONMENT=development
